<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<title>LumaQuest – Habit ELO (Home UI Final)</title>
<meta name="theme-color" content="#0b0f1a">
<style>
/* ---------- Reset & Base ---------- */
* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
html,body { height: 100%; }
:root{
  --bg:#0a0f1a;
  --panel:#0e1422;
  --panel-2:#11182a;
  --text:#e6ecff;
  --muted:#9fb0d6;
  --brand1:#a77cf8;
  --brand2:#6de3ff;
  --brandGlow:#7b8cff;
  --tile:#101728;
  --tileInner:#111a2e;
  --tileBorder1:rgba(109,227,255,.35);
  --tileBorder2:rgba(167,124,248,.35);
  --shadow: 0 20px 40px rgba(0,0,0,.35), inset 0 0 0 1px rgba(255,255,255,.04);
  --radius:26px;
  --radiusLg:34px;
}
body{
  margin:0; background: radial-gradient(1200px 900px at 50% -20%, #141a2a 0%, var(--bg) 60%) fixed;
  color:var(--text); font: 500 16px/1.45 system-ui, -apple-system, Segoe UI, Roboto;
  overflow-x:hidden;
}
.container{ max-width: 980px; padding: 18px 16px 24px; margin: 0 auto; position: relative; }

/* ---------- Header ---------- */
.header{
  position: sticky; top:0; z-index: 5;
  backdrop-filter: saturate(120%) blur(12px);
  background: linear-gradient(180deg, rgba(8,12,20,.7), rgba(8,12,20,.35));
  border-bottom: 1px solid rgba(255,255,255,.06);
}
.header-inner{ display:flex; align-items:center; gap:12px; padding:10px env(safe-area-inset-left) 10px env(safe-area-inset-right); }
.back{
  display:none; /* hidden on home */
  width:44px; height:44px; border-radius:16px; border:1px solid rgba(255,255,255,.06);
  display:flex; align-items:center; justify-content:center; color:var(--text);
  background: rgba(255,255,255,.02);
}
.brand{
  display:flex; align-items:center; gap:12px; margin-right:auto;
}
.logo{
  width:36px; height:36px; border-radius:12px;
  background: conic-gradient(from 0deg, #6de3ff, #a77cf8, #ff9bd5, #6de3ff);
  box-shadow: 0 0 18px rgba(167,124,248,.45);
}
.title{
  font-weight:800; letter-spacing:.3px;
  line-height:1.1;
  display:flex; flex-direction:column;
}
.title .top{ font-size: clamp(18px, 3.8vw, 22px); }
.title .sub{ font-size: clamp(13px, 2.8vw, 14px); color: var(--muted); margin-top:2px; }

.badge-elo{
  margin-left: auto;
  padding:10px 14px; border-radius: 16px;
  border:1px solid rgba(255,255,255,.08);
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  font-weight:700; letter-spacing:.3px; font-size:14px;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.02);
}

/* ---------- Particles ---------- */
canvas#fx{ position:fixed; inset:0; z-index:0; pointer-events:none; opacity:.85; }

/* ---------- Panel ---------- */
.panel{
  position: relative; z-index: 1;
  margin-top:18px;
  background: linear-gradient(180deg, var(--panel) 0%, var(--panel-2) 100%);
  border-radius: var(--radiusLg);
  padding: 18px;
  box-shadow: var(--shadow);
}
.h1{ font-size:clamp(22px,5.2vw,28px); margin:4px 4px 12px; font-weight:800; }
.grid{
  display:grid; gap:18px;
  grid-template-columns: repeat(2, minmax(0, 1fr));
}
@media (min-width:880px){ .grid{ grid-template-columns: repeat(4, minmax(0, 1fr)); } }

/* ---------- Tiles ---------- */
.tile{
  position: relative; overflow:hidden; border-radius: 28px;
  background: radial-gradient(140% 140% at 50% 0%, rgba(255,255,255,.04), rgba(255,255,255,.02) 40%, rgba(255,255,255,.01) 70%),
              linear-gradient(180deg, #101728 0%, #0c1323 100%);
  aspect-ratio: 1/1; display:flex; align-items:center; justify-content:center;
  border:1px solid rgba(255,255,255,.06);
  box-shadow: 0 30px 60px rgba(0,0,0,.45), inset 0 0 0 1px rgba(255,255,255,.03);
  transition: transform .18s ease, box-shadow .18s ease;
}
.tile::before{
  content:""; position:absolute; inset:-2px; border-radius:32px;
  background: linear-gradient(135deg, var(--tileBorder1), var(--tileBorder2));
  filter: blur(10px); opacity:.0; transition:opacity .25s ease;
}
.tile:hover{ transform: translateY(-1px) scale(1.01); }
.tile:hover::before{ opacity:.45; }
.tile:active{ transform: scale(.98); }

.tile-inner{
  width: 86%; height: 86%; border-radius: 24px;
  display:flex; flex-direction:column; align-items:center; justify-content:center; gap:12px;
  background: radial-gradient(110% 90% at 50% 0%, rgba(167,124,248,.08), rgba(109,227,255,.06), rgba(255,255,255,0) 70%);
  border:1px solid rgba(255,255,255,.06);
  box-shadow: inset 0 0 30px rgba(167,124,248,.08);
  position:relative;
}
.icon{ width: clamp(34px, 8.2vw, 48px); height: clamp(34px, 8.2vw, 48px); opacity:.95; }
.label{
  text-align:center; font-weight:800; letter-spacing:.3px;
  font-size: clamp(11px, 3.2vw, 18px);
  line-height:1.15; color: #eaf2ff;
  padding: 0 6px;
  max-width: 95%;
  white-space: nowrap; overflow: hidden; max-width: 100%;
}

/* Breathing glow */
.tile .glow{
  position:absolute; inset:-35%; border-radius:50%;
  background: radial-gradient(closest-side, rgba(167,124,248,.28), rgba(167,124,248,0)),
              radial-gradient(closest-side, rgba(109,227,255,.22), rgba(109,227,255,0));
  animation: breathe 6s ease-in-out infinite;
  filter: blur(14px); pointer-events:none; opacity:.5;
}
@keyframes breathe{ 0%,100%{ transform: scale(1); } 50%{ transform: scale(1.06); } }

/* Ripple */
.ripple{
  position:absolute; border-radius:50%; transform:translate(-50%,-50%); pointer-events:none;
  width:8px; height:8px; background:radial-gradient(circle, rgba(255,255,255,.9), rgba(255,255,255,0) 70%);
  animation:ripple .6s ease forwards;
}
@keyframes ripple{ from{opacity:.5; transform:translate(-50%,-50%) scale(.4);} to{opacity:0; transform:translate(-50%,-50%) scale(16);} }

/* Footer quote */
.footer{ margin: 26px 0 6px; color: var(--muted); text-align:center; font-weight:600; }
</style>
</head>
<body>
<canvas id="fx"></canvas>

<header class="header">
  <div class="header-inner container">
    <button class="back" aria-label="Zurück" title="Zurück" hidden>
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
        <path d="M15 18l-6-6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>
    <div class="brand">
      <div class="logo" aria-hidden="true"></div>
      <div class="title">
        <div class="top">LumaQuest</div>
        <div class="sub">Habit ELO</div>
      </div>
    </div>
    <div class="badge-elo">ELO&nbsp;1000</div>
  </div>
</header>

<main class="container">
  <section class="panel">
    <div class="h1">Start</div>
    <div class="grid" id="homeGrid">
      <!-- Tiles injected by JS -->
    </div>
  </section>
  <div class="footer">Du brennst heller als jede Gewohnheit.</div>
</main>

<script>
// ----- Particles (tiny, efficient) -----
(()=>{
  const c = document.getElementById('fx'); const ctx = c.getContext('2d');
  function size(){ c.width = innerWidth; c.height = innerHeight; }
  size(); addEventListener('resize', size);
  const dots = Array.from({length: 90}, ()=> ({
    x: Math.random()*innerWidth,
    y: Math.random()*innerHeight,
    r: Math.random()*1.6+0.4,
    s: Math.random()*0.7+0.2,
  }));
  function tick(){
    ctx.clearRect(0,0,c.width,c.height);
    ctx.fillStyle = 'rgba(180,160,255,.75)';
    dots.forEach(d=>{
      d.y += d.s; if(d.y>c.height) d.y = -6, d.x = Math.random()*c.width;
      ctx.beginPath(); ctx.arc(d.x,d.y,d.r,0,Math.PI*2); ctx.fill();
    });
    requestAnimationFrame(tick);
  }
  tick();
})();

// ----- Home Tiles -----
const TILES = [
  { id:'tracking', label:'Tracking', icon:`<svg class="icon" viewBox="0 0 24 24" fill="none">
    <path d="M4 19V5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
    <rect x="7" y="9" width="3" height="10" rx="1.2" fill="currentColor" opacity=".95"/>
    <rect x="12" y="6" width="3" height="13" rx="1.2" fill="currentColor" opacity=".8"/>
    <rect x="17" y="12" width="3" height="7" rx="1.2" fill="currentColor" opacity=".65"/>
  </svg>`},
  { id:'board', label:'Tagesabschlüsse', icon:`<svg class="icon" viewBox="0 0 24 24" fill="none">
    <rect x="3" y="5" width="18" height="16" rx="3" stroke="currentColor" stroke-width="2"/>
    <path d="M8 3v4M16 3v4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
    <path d="M3 10h18" stroke="currentColor" stroke-width="2"/>
  </svg>`},
  { id:'trophies', label:'Trophäen', icon:`<svg class="icon" viewBox="0 0 24 24" fill="none">
    <path d="M7 4h10v4a5 5 0 11-10 0V4z" stroke="currentColor" stroke-width="2"/>
    <path d="M5 6h2a5 5 0 01-5 5V8a2 2 0 012-2zM17 6h2a2 2 0 012 2v3a5 5 0 01-5-5z" fill="currentColor" opacity=".6"/>
    <path d="M8 16h8" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
    <rect x="9" y="16" width="6" height="3" rx="1" fill="currentColor" opacity=".8"/>
  </svg>`},
  { id:'badgeInfo', label:'Badge‑Infos', icon:`<svg class="icon" viewBox="0 0 24 24" fill="none">
    <path d="M12 2l1.5 4.5L18 8l-4.5 1.5L12 14l-1.5-4.5L6 8l4.5-1.5L12 2z" fill="currentColor" opacity=".9"/>
    <circle cx="18" cy="16" r="3" stroke="currentColor" stroke-width="2"/>
    <path d="M18 14v2l1.2 1.2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
  </svg>`},
];

const grid = document.getElementById('homeGrid');
function fitLabel(el, minPx=10){
  // shrink font-size until it fits on one line
  const style = getComputedStyle(el);
  let fs = parseFloat(style.fontSize);
  const maxLoops = 10;
  let loops=0;
  while(el.scrollWidth > el.clientWidth && fs > minPx && loops<maxLoops){
    fs -= 1;
    el.style.fontSize = fs + 'px';
    loops++;
  }
}
TILES.forEach(t => {
  const tile = document.createElement('button');
  tile.className = 'tile'; tile.setAttribute('data-id', t.id);
  tile.innerHTML = `<div class="glow"></div>
    <div class="tile-inner">
      ${t.icon}
      <div class="label">${t.label}</div>
    </div>`;
  const labelEl = tile.querySelector('.label');
  // Special hyphen opportunity for Tagesabschlüsse if ever needed
  labelEl.innerHTML = labelEl.textContent.replace('Tagesabschlüsse','Tages­abschlüsse');
  fitLabel(labelEl);
  tile.addEventListener('click', (e)=>{
    const r = document.createElement('span'); r.className='ripple';
    r.style.left = e.offsetX+'px'; r.style.top = e.offsetY+'px';
    tile.appendChild(r); setTimeout(()=>r.remove(), 650);
    alert('Demo: Öffne „'+t.label+'“'); // placeholder navigation
  });
  grid.appendChild(tile);
});

// Accessibility: Enter key acts like click
grid.addEventListener('keydown', (e)=>{
  if(e.key==='Enter' && e.target.classList.contains('tile')) e.target.click();
});
</script>
</body>
</html>
